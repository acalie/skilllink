<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ¢ã™ - SkillLink</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800&family=Noto+Sans+JP:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #FF4757;
            --primary-dark: #E63946;
            --primary-light: #FF6B7A;
            --secondary: #FF8A5B;
            --accent: #FFA07A;
            --bg-light: #FFF5F5;
            --bg-white: #FFFFFF;
            --text-dark: #2D3436;
            --text-gray: #636E72;
            --text-light: #B2BEC3;
            --success: #00D2A5;
            --shadow: rgba(255, 71, 87, 0.15);
            --shadow-strong: rgba(255, 71, 87, 0.25);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans JP', sans-serif;
            color: var(--text-dark);
            line-height: 1.6;
            background: var(--bg-light);
        }
        
        /* Header */
        header {
            background: var(--bg-white);
            box-shadow: 0 2px 20px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        nav {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.2rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-family: 'Outfit', sans-serif;
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -1px;
            text-decoration: none;
        }
        
        .nav-links {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        /* Search Hero */
        .search-hero {
            background: linear-gradient(135deg, #FFF5F5 0%, #FFE8E8 100%);
            padding: 3rem 2rem;
        }
        
        .search-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .search-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .search-header h1 {
            font-family: 'Outfit', sans-serif;
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
        }
        
        .search-header p {
            color: var(--text-gray);
            font-size: 1.1rem;
        }
        
        /* AI Search Bar */
        .ai-search-section {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 40px var(--shadow);
            margin-bottom: 2rem;
        }
        
        .ai-badge-header {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 1.5rem;
        }
        
        .ai-icon-large {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }
        
        .ai-badge-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .ai-search-input-container {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .ai-search-input {
            flex: 1;
            padding: 1.2rem 1.5rem;
            border: 2px solid #E8E8E8;
            border-radius: 50px;
            font-size: 1.1rem;
            font-family: 'Noto Sans JP', sans-serif;
            transition: all 0.3s;
        }
        
        .ai-search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px var(--shadow);
        }
        
        .ai-search-btn {
            padding: 1.2rem 2.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }
        
        .ai-search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px var(--shadow-strong);
        }
        
        .ai-suggestions {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }
        
        .ai-suggestion-chip {
            padding: 0.5rem 1rem;
            background: var(--bg-light);
            border: 2px solid var(--primary-light);
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .ai-suggestion-chip:hover {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-color: var(--primary);
        }
        
        /* AI Results */
        .ai-results-section {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 40px var(--shadow);
            margin-bottom: 2rem;
            display: none;
        }
        
        .ai-thinking {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, #FFF5F5 0%, #FFE8E8 100%);
            border-radius: 15px;
            margin-bottom: 1.5rem;
        }
        
        .loading-dots {
            display: flex;
            gap: 0.3rem;
        }
        
        .loading-dot {
            width: 10px;
            height: 10px;
            background: var(--primary);
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out;
        }
        
        .loading-dot:nth-child(1) {
            animation-delay: -0.32s;
        }
        
        .loading-dot:nth-child(2) {
            animation-delay: -0.16s;
        }
        
        @keyframes bounce {
            0%, 80%, 100% {
                transform: scale(0);
            }
            40% {
                transform: scale(1);
            }
        }
        
        .ai-response {
            padding: 1.5rem;
            background: linear-gradient(135deg, #FFF5F5 0%, white 100%);
            border-radius: 15px;
            border-left: 4px solid var(--primary);
            margin-bottom: 1.5rem;
        }
        
        .ai-response h3 {
            font-size: 1.2rem;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .ai-response p {
            color: var(--text-gray);
            line-height: 1.8;
        }
        
        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 2rem;
        }
        
        /* Filters Sidebar */
        .filters-sidebar {
            background: white;
            padding: 1.5rem;
            border-radius: 20px;
            height: fit-content;
            position: sticky;
            top: 100px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        
        .filters-header {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .filter-group {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #E8E8E8;
        }
        
        .filter-group:last-child {
            border-bottom: none;
        }
        
        .filter-group h3 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.8rem;
            color: var(--text-dark);
        }
        
        .filter-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.6rem;
            cursor: pointer;
        }
        
        .filter-option input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .filter-option label {
            cursor: pointer;
            font-size: 0.95rem;
        }
        
        .filter-count {
            color: var(--text-light);
            font-size: 0.85rem;
            margin-left: auto;
        }
        
        /* Services Grid */
        .services-section {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .services-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            padding: 1.2rem 1.5rem;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .services-count {
            font-weight: 600;
            color: var(--text-gray);
        }
        
        .sort-select {
            padding: 0.6rem 1rem;
            border: 2px solid #E8E8E8;
            border-radius: 8px;
            font-size: 0.95rem;
            font-family: 'Noto Sans JP', sans-serif;
            cursor: pointer;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 1.5rem;
        }
        
        /* Service Card */
        .service-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
            cursor: pointer;
            text-decoration: none;
            color: var(--text-dark);
            display: flex;
            flex-direction: column;
        }
        
        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px var(--shadow);
        }
        
        .service-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, var(--primary-light), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            position: relative;
        }
        
        .service-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.95);
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .service-content {
            padding: 1.5rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .service-header {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .service-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            flex-shrink: 0;
        }
        
        .service-info {
            flex: 1;
        }
        
        .service-provider {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.2rem;
        }
        
        .service-location {
            font-size: 0.85rem;
            color: var(--text-gray);
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .service-title {
            font-size: 1.15rem;
            font-weight: 700;
            margin-bottom: 0.8rem;
            line-height: 1.4;
        }
        
        .service-description {
            font-size: 0.9rem;
            color: var(--text-gray);
            line-height: 1.6;
            margin-bottom: 1rem;
            flex: 1;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .service-meta {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #F0F0F0;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            font-size: 0.85rem;
            color: var(--text-gray);
        }
        
        .service-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }
        
        .tag {
            padding: 0.3rem 0.8rem;
            background: var(--bg-light);
            border-radius: 15px;
            font-size: 0.8rem;
            color: var(--primary);
        }
        
        .service-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .service-rating {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            font-size: 0.9rem;
        }
        
        .service-price {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary);
            font-family: 'Outfit', sans-serif;
        }
        
        .price-unit {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-gray);
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            background: white;
            border-radius: 20px;
        }
        
        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }
        
        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .empty-state p {
            color: var(--text-gray);
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .filters-sidebar {
                position: static;
            }
            
            .services-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            .search-header h1 {
                font-size: 2rem;
            }
            
            .ai-search-input-container {
                flex-direction: column;
            }
            
            .ai-search-btn {
                width: 100%;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-links {
                display: none;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="logo">SkillLink</a>
            <div class="nav-links">
                <a href="search.html">ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ¢ã™</a>
                <a href="create-listing.html">å‡ºå“ã™ã‚‹</a>
                <a href="index.html">ãƒ›ãƒ¼ãƒ </a>
            </div>
        </nav>
    </header>

    <section class="search-hero">
        <div class="search-container">
            <div class="search-header">
                <h1>ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ¢ã™</h1>
                <p>AIãŒæœ€é©ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’è¦‹ã¤ã‘ã¾ã™</p>
            </div>

            <!-- AI Search Section -->
            <div class="ai-search-section">
                <div class="ai-badge-header">
                    <div class="ai-icon-large">ğŸ¤–</div>
                    <div>
                        <h2>AIä¼šè©±å‹æ¤œç´¢</h2>
                        <p style="color: var(--text-gray); margin: 0; font-size: 0.95rem;">
                            æ¬²ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’è‡ªç„¶ãªè¨€è‘‰ã§ä¼ãˆã¦ãã ã•ã„
                        </p>
                    </div>
                </div>
                
                <div class="ai-search-input-container">
                    <input 
                        type="text" 
                        class="ai-search-input" 
                        id="aiSearchInput"
                        placeholder="ä¾‹: ãƒ™ãƒ«ãƒªãƒ³ã§å­ä¾›ã®å­¦æ ¡é€è¿ã‚’æ‰‹ä¼ã£ã¦ãã‚Œã‚‹äººã‚’æ¢ã—ã¦ã„ã¾ã™"
                    >
                    <button class="ai-search-btn" id="aiSearchBtn">ğŸ” AIæ¤œç´¢</button>
                </div>
                
                <div class="ai-suggestions">
                    <div class="ai-suggestion-chip" data-query="ãƒ™ãƒ«ãƒªãƒ³ã§è²·ã„ç‰©ã®åŒè¡Œã‚µãƒãƒ¼ãƒˆã‚’ã—ã¦ã»ã—ã„">ğŸ›’ è²·ã„ç‰©åŒè¡Œ</div>
                    <div class="ai-suggestion-chip" data-query="ãƒ‘ãƒªã§è¦³å…‰ã‚¬ã‚¤ãƒ‰ã‚’ãŠé¡˜ã„ã—ãŸã„">âœˆï¸ è¦³å…‰ã‚¬ã‚¤ãƒ‰</div>
                    <div class="ai-suggestion-chip" data-query="ãƒ‰ã‚¤ãƒ„èªã®ä¼šè©±ãƒ¬ãƒƒã‚¹ãƒ³ã‚’å—ã‘ãŸã„">ğŸ’¬ èªå­¦ãƒ¬ãƒƒã‚¹ãƒ³</div>
                    <div class="ai-suggestion-chip" data-query="ãƒ­ãƒ³ãƒ‰ãƒ³ã§å­ä¾›ã®é€è¿ã‚µãƒãƒ¼ãƒˆãŒå¿…è¦">ğŸ‘¶ å­ä¾›é€è¿</div>
                    <div class="ai-suggestion-chip" data-query="ç¿»è¨³ã®ä»•äº‹ã‚’ä¾é ¼ã—ãŸã„">ğŸ“„ ç¿»è¨³</div>
                </div>
            </div>

            <!-- AI Results Section -->
            <div class="ai-results-section" id="aiResultsSection">
                <div class="ai-thinking" id="aiThinking">
                    <div class="ai-icon-large">ğŸ¤”</div>
                    <div style="flex: 1;">
                        <strong>AIãŒåˆ†æä¸­...</strong>
                        <div class="loading-dots" style="margin-top: 0.5rem;">
                            <div class="loading-dot"></div>
                            <div class="loading-dot"></div>
                            <div class="loading-dot"></div>
                        </div>
                    </div>
                </div>
                
                <div class="ai-response" id="aiResponse" style="display: none;">
                    <h3>ğŸ’¡ AIã®å›ç­”</h3>
                    <p id="aiResponseText"></p>
                </div>
            </div>
        </div>
    </section>

    <div class="main-content">
        <!-- Filters Sidebar -->
        <aside class="filters-sidebar">
            <div class="filters-header">ğŸ”§ çµã‚Šè¾¼ã¿</div>
            
            <div class="filter-group">
                <h3>ã‚«ãƒ†ã‚´ãƒªãƒ¼</h3>
                <div class="filter-option">
                    <input type="checkbox" id="cat-support" value="support">
                    <label for="cat-support">åŒè¡Œã‚µãƒãƒ¼ãƒˆ</label>
                    <span class="filter-count">(5)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="cat-life" value="life">
                    <label for="cat-life">ç¾åœ°ç”Ÿæ´»</label>
                    <span class="filter-count">(1)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="cat-travel" value="travel">
                    <label for="cat-travel">æ—…è¡Œã‚µãƒãƒ¼ãƒˆ</label>
                    <span class="filter-count">(1)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="cat-language" value="language">
                    <label for="cat-language">èªå­¦ãƒ¬ãƒƒã‚¹ãƒ³</label>
                    <span class="filter-count">(1)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="cat-hobby" value="hobby">
                    <label for="cat-hobby">è¶£å‘³ãƒ»æ–‡åŒ–</label>
                    <span class="filter-count">(1)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="cat-business" value="business">
                    <label for="cat-business">ãƒ“ã‚¸ãƒã‚¹æ”¯æ´</label>
                    <span class="filter-count">(1)</span>
                </div>
            </div>
            
            <div class="filter-group">
                <h3>æä¾›å½¢æ…‹</h3>
                <div class="filter-option">
                    <input type="checkbox" id="format-online" value="online">
                    <label for="format-online">ã‚ªãƒ³ãƒ©ã‚¤ãƒ³</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="format-inperson" value="in-person">
                    <label for="format-inperson">å¯¾é¢</label>
                </div>
            </div>
            
            <div class="filter-group">
                <h3>ä¾¡æ ¼å¸¯</h3>
                <div class="filter-option">
                    <input type="checkbox" id="price-1" value="0-3000">
                    <label for="price-1">ã€œÂ¥3,000</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="price-2" value="3000-5000">
                    <label for="price-2">Â¥3,000 - Â¥5,000</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="price-3" value="5000-10000">
                    <label for="price-3">Â¥5,000 - Â¥10,000</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="price-4" value="10000+">
                    <label for="price-4">Â¥10,000ã€œ</label>
                </div>
            </div>
            
            <div class="filter-group">
                <h3>éƒ½å¸‚</h3>
                <div class="filter-option">
                    <input type="checkbox" id="city-berlin" value="berlin">
                    <label for="city-berlin">ãƒ™ãƒ«ãƒªãƒ³</label>
                    <span class="filter-count">(3)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="city-paris" value="paris">
                    <label for="city-paris">ãƒ‘ãƒª</label>
                    <span class="filter-count">(2)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="city-london" value="london">
                    <label for="city-london">ãƒ­ãƒ³ãƒ‰ãƒ³</label>
                    <span class="filter-count">(2)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="city-other" value="other">
                    <label for="city-other">ãã®ä»–</label>
                    <span class="filter-count">(3)</span>
                </div>
            </div>
        </aside>

        <!-- Services Section -->
        <div class="services-section">
            <div class="services-header">
                <div class="services-count">
                    <span id="servicesCount">10</span>ä»¶ã®ã‚µãƒ¼ãƒ“ã‚¹
                </div>
                <select class="sort-select" id="sortSelect">
                    <option value="recommended">ãŠã™ã™ã‚é †</option>
                    <option value="price-low">ä¾¡æ ¼ãŒå®‰ã„é †</option>
                    <option value="price-high">ä¾¡æ ¼ãŒé«˜ã„é †</option>
                    <option value="rating">è©•ä¾¡ãŒé«˜ã„é †</option>
                    <option value="new">æ–°ç€é †</option>
                </select>
            </div>

            <div class="services-grid" id="servicesGrid">
                <!-- Service cards will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <script>
        // Sample service data
        const services = [
            {
                id: 1,
                category: 'support',
                title: 'ãƒ™ãƒ«ãƒªãƒ³å¸‚å†…ã®è²·ã„ç‰©ãƒ»ç§»å‹•åŒè¡Œã‚µãƒãƒ¼ãƒˆ',
                provider: 'ç”°ä¸­ ç¾å’²',
                location: 'ãƒ™ãƒ«ãƒªãƒ³',
                city: 'berlin',
                description: 'ãƒ‰ã‚¤ãƒ„èªã§ã®äº¤æ¸‰ãŒå¿…è¦ãªè²·ã„ç‰©ã‚„ã€å…¬å…±äº¤é€šæ©Ÿé–¢ã®åˆ©ç”¨ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚10å¹´ã®ç¾åœ°çµŒé¨“ã§ã‚¹ãƒ ãƒ¼ã‚ºãªæ¡ˆå†…ãŒå¯èƒ½ã§ã™ã€‚',
                price: 4500,
                priceUnit: '/ æ™‚é–“',
                rating: 4.9,
                reviews: 127,
                format: 'in-person',
                emoji: 'ğŸ›’',
                tags: ['è²·ã„ç‰©', 'ãƒ‰ã‚¤ãƒ„èªé€šè¨³', 'é€è¿'],
                badge: 'AIæ¨å¥¨'
            },
            {
                id: 2,
                category: 'support',
                title: 'å­ä¾›ã®å­¦æ ¡é€è¿ãƒ»ç¿’ã„äº‹åŒè¡Œã‚µãƒãƒ¼ãƒˆ',
                provider: 'ä½è—¤ å¥å¤ª',
                location: 'ãƒ™ãƒ«ãƒªãƒ³',
                city: 'berlin',
                description: 'ç¾åœ°ã®å­¦æ ¡ã‚·ã‚¹ãƒ†ãƒ ã«ç²¾é€šã€‚ãŠå­æ§˜ã®å®‰å…¨ãªé€è¿ã¨ã€å­¦æ ¡ã¨ã®é€£çµ¡ã‚‚æ—¥æœ¬èªã§ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚',
                price: 3800,
                priceUnit: '/ å›',
                rating: 5.0,
                reviews: 89,
                format: 'in-person',
                emoji: 'ğŸš¸',
                tags: ['å­ä¾›é€è¿', 'å­¦æ ¡ã‚µãƒãƒ¼ãƒˆ'],
                badge: 'äººæ°—'
            },
            {
                id: 3,
                category: 'support',
                title: 'ãƒ‘ãƒªå¸‚å†…ã‚¢ãƒ†ãƒ³ãƒ‰ãƒ»é€šè¨³åŒè¡Œã‚µãƒ¼ãƒ“ã‚¹',
                provider: 'éˆ´æœ¨ ã‚ã‚†ã¿',
                location: 'ãƒ‘ãƒª',
                city: 'paris',
                description: 'ãƒ•ãƒ©ãƒ³ã‚¹èªãƒ»æ—¥æœ¬èªãƒ»è‹±èªã®ãƒˆãƒªãƒªãƒ³ã‚¬ãƒ«ã€‚ç—…é™¢ã€å½¹æ‰€ã€ä¸å‹•ç”£ãªã©é‡è¦ãªå ´é¢ã§ã®é€šè¨³ã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã™ã€‚',
                price: 6000,
                priceUnit: '/ æ™‚é–“',
                rating: 4.8,
                reviews: 156,
                format: 'in-person',
                emoji: 'ğŸ—¼',
                tags: ['é€šè¨³', 'å…¬çš„æ‰‹ç¶šã'],
                badge: 'ãƒ—ãƒ­èªå®š'
            },
            {
                id: 4,
                category: 'support',
                title: 'ãƒ­ãƒ³ãƒ‰ãƒ³ç©ºæ¸¯é€è¿ãƒ»å¼•è¶Šã—ã‚µãƒãƒ¼ãƒˆ',
                provider: 'å±±ç”° ç›´äºº',
                location: 'ãƒ­ãƒ³ãƒ‰ãƒ³',
                city: 'london',
                description: 'ç©ºæ¸¯ã‹ã‚‰ã®é€è¿ã‚„ã€å¼•è¶Šã—ã®éš›ã®è·ç‰©é‹æ¬ã‚’ã‚µãƒãƒ¼ãƒˆã€‚è»Šä¸¡ä¿æœ‰ã§å¤§ããªè·ç‰©ã‚‚å®‰å¿ƒã§ã™ã€‚',
                price: 8000,
                priceUnit: '/ å›',
                rating: 4.7,
                reviews: 92,
                format: 'in-person',
                emoji: 'ğŸš—',
                tags: ['ç©ºæ¸¯é€è¿', 'å¼•è¶Šã—'],
                badge: null
            },
            {
                id: 5,
                category: 'support',
                title: 'ãƒŸãƒ¥ãƒ³ãƒ˜ãƒ³ç—…é™¢ãƒ»è–¬å±€åŒè¡Œã‚µãƒãƒ¼ãƒˆ',
                provider: 'é«˜æ©‹ éº»é‡Œ',
                location: 'ãƒŸãƒ¥ãƒ³ãƒ˜ãƒ³',
                city: 'other',
                description: 'åŒ»ç™‚é€šè¨³ã®è³‡æ ¼ä¿æŒã€‚ç—…é™¢ã§ã®è¨ºå¯Ÿã‚„ã€è–¬å±€ã§ã®è–¬ã®è³¼å…¥ã‚’æ—¥æœ¬èªã§ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚',
                price: 5500,
                priceUnit: '/ æ™‚é–“',
                rating: 4.9,
                reviews: 73,
                format: 'in-person',
                emoji: 'ğŸ¥',
                tags: ['åŒ»ç™‚é€šè¨³', 'è–¬å±€'],
                badge: 'è³‡æ ¼ä¿æœ‰'
            },
            {
                id: 6,
                category: 'life',
                title: 'ãƒ‰ã‚¤ãƒ„ç§»ä½ãƒ»ç”Ÿæ´»ç«‹ã¡ä¸Šã’ç›¸è«‡',
                provider: 'ä¼Šè—¤ èª ',
                location: 'ãƒ™ãƒ«ãƒªãƒ³',
                city: 'berlin',
                description: 'ãƒ“ã‚¶å–å¾—ã‹ã‚‰ä½å±…æ¢ã—ã€éŠ€è¡Œå£åº§é–‹è¨­ã¾ã§ã€ç§»ä½åˆæœŸã®å…¨ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚',
                price: 8000,
                priceUnit: '/ ã‚»ãƒƒã‚·ãƒ§ãƒ³',
                rating: 4.8,
                reviews: 145,
                format: 'online',
                emoji: 'ğŸ ',
                tags: ['ç§»ä½ç›¸è«‡', 'ãƒ“ã‚¶', 'ä½å±…'],
                badge: 'AIæ¨å¥¨'
            },
            {
                id: 7,
                category: 'travel',
                title: 'ãƒ‘ãƒªè¦³å…‰ãƒ—ãƒ©ãƒ³ä½œæˆï¼ˆPDFç´å“ï¼‰',
                provider: 'æ¸¡è¾º ã•ãã‚‰',
                location: 'ãƒ‘ãƒª',
                city: 'paris',
                description: 'ã‚ãªãŸã®å¸Œæœ›ã«åˆã‚ã›ãŸ3æ—¥é–“ã®è¦³å…‰ãƒ—ãƒ©ãƒ³ã‚’ä½œæˆã€‚ãŠã™ã™ã‚ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã€äº¤é€šæ‰‹æ®µã€äºˆç®—ã¾ã§è©³ç´°ã«è¨˜è¼‰ã—ã¾ã™ã€‚',
                price: 3500,
                priceUnit: '/ å›ºå®š',
                rating: 4.9,
                reviews: 234,
                format: 'online',
                emoji: 'ğŸ“‹',
                tags: ['è¦³å…‰ãƒ—ãƒ©ãƒ³', 'PDF'],
                badge: 'ãƒ™ã‚¹ãƒˆã‚»ãƒ©ãƒ¼'
            },
            {
                id: 8,
                category: 'language',
                title: 'ãƒ‰ã‚¤ãƒ„èªä¼šè©±ãƒ¬ãƒƒã‚¹ãƒ³ï¼ˆã‚ªãƒ³ãƒ©ã‚¤ãƒ³30åˆ†ï¼‰',
                provider: 'ä¸­æ‘ å¥',
                location: 'ãƒ•ãƒ©ãƒ³ã‚¯ãƒ•ãƒ«ãƒˆ',
                city: 'other',
                description: 'ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¬ãƒ™ãƒ«ã®ãƒ‰ã‚¤ãƒ„èªã§æ—¥å¸¸ä¼šè©±ã‚’ç·´ç¿’ã€‚ç™ºéŸ³çŸ¯æ­£ã‚„ã€ãƒ“ã‚¸ãƒã‚¹ãƒ‰ã‚¤ãƒ„èªã«ã‚‚å¯¾å¿œã—ã¾ã™ã€‚',
                price: 2800,
                priceUnit: '/ 30åˆ†',
                rating: 5.0,
                reviews: 189,
                format: 'online',
                emoji: 'ğŸ’¬',
                tags: ['ãƒ‰ã‚¤ãƒ„èª', 'ä¼šè©±ãƒ¬ãƒƒã‚¹ãƒ³'],
                badge: 'é«˜è©•ä¾¡'
            },
            {
                id: 9,
                category: 'hobby',
                title: 'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ–™ç†ãƒ¬ãƒƒã‚¹ãƒ³ï¼ˆãƒ‰ã‚¤ãƒ„å®¶åº­æ–™ç†ï¼‰',
                provider: 'å°æ— æµå­',
                location: 'ãƒãƒ³ãƒ–ãƒ«ã‚¯',
                city: 'other',
                description: 'ã‚·ãƒ¥ãƒ‹ãƒƒãƒ„ã‚§ãƒ«ã€ã‚¶ãƒ¯ãƒ¼ã‚¯ãƒ©ã‚¦ãƒˆãªã©ã€æœ¬æ ¼çš„ãªãƒ‰ã‚¤ãƒ„å®¶åº­æ–™ç†ã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§æ•™ãˆã¾ã™ã€‚',
                price: 4200,
                priceUnit: '/ 60åˆ†',
                rating: 4.7,
                reviews: 67,
                format: 'online',
                emoji: 'ğŸ³',
                tags: ['æ–™ç†', 'ãƒ‰ã‚¤ãƒ„æ–™ç†'],
                badge: null
            },
            {
                id: 10,
                category: 'business',
                title: 'æ—¥ç‹¬ç¿»è¨³ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆãƒ“ã‚¸ãƒã‚¹æ–‡æ›¸ï¼‰',
                provider: 'æ¾æœ¬ æ‹“ä¹Ÿ',
                location: 'ãƒ­ãƒ³ãƒ‰ãƒ³',
                city: 'london',
                description: 'å¥‘ç´„æ›¸ã€ãƒ—ãƒ¬ã‚¼ãƒ³è³‡æ–™ã€ãƒ¡ãƒ¼ãƒ«ãªã©ã€ãƒ“ã‚¸ãƒã‚¹æ–‡æ›¸ã®é«˜å“è³ªç¿»è¨³ã€‚24æ™‚é–“ä»¥å†…ç´å“ã€‚',
                price: 12000,
                priceUnit: '/ 1000æ–‡å­—',
                rating: 4.9,
                reviews: 312,
                format: 'online',
                emoji: 'ğŸ“„',
                tags: ['ç¿»è¨³', 'ãƒ“ã‚¸ãƒã‚¹'],
                badge: 'ãƒ—ãƒ­èªå®š'
            }
        ];

        // Render services
        function renderServices(filteredServices = services) {
            const grid = document.getElementById('servicesGrid');
            const count = document.getElementById('servicesCount');
            
            count.textContent = filteredServices.length;
            
            if (filteredServices.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ”</div>
                        <h3>è©²å½“ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ</h3>
                        <p>æ¤œç´¢æ¡ä»¶ã‚’å¤‰æ›´ã—ã¦ãŠè©¦ã—ãã ã•ã„</p>
                    </div>
                `;
                return;
            }
            
            grid.innerHTML = filteredServices.map(service => `
                <a href="service-detail.html?id=${service.id}" class="service-card">
                    <div class="service-image">
                        ${service.emoji}
                        ${service.badge ? `<div class="service-badge">${service.badge}</div>` : ''}
                    </div>
                    <div class="service-content">
                        <div class="service-header">
                            <div class="service-avatar">${service.provider.charAt(0)}</div>
                            <div class="service-info">
                                <div class="service-provider">${service.provider}</div>
                                <div class="service-location">ğŸ“ ${service.location}</div>
                            </div>
                        </div>
                        <h3 class="service-title">${service.title}</h3>
                        <p class="service-description">${service.description}</p>
                        <div class="service-tags">
                            ${service.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                        <div class="service-meta">
                            <span class="meta-item">${service.format === 'online' ? 'ğŸ’» ã‚ªãƒ³ãƒ©ã‚¤ãƒ³' : 'ğŸ¤ å¯¾é¢'}</span>
                        </div>
                        <div class="service-footer">
                            <div class="service-rating">
                                â­ ${service.rating} <span style="color: var(--text-light);">(${service.reviews})</span>
                            </div>
                            <div>
                                <span class="service-price">Â¥${service.price.toLocaleString()}</span>
                                <span class="price-unit">${service.priceUnit}</span>
                            </div>
                        </div>
                    </div>
                </a>
            `).join('');
        }

        // AI Search functionality
        const aiResponses = {
            'è²·ã„ç‰©': 'ãƒ™ãƒ«ãƒªãƒ³ã‚„ãƒ‘ãƒªã§è²·ã„ç‰©åŒè¡Œã‚µãƒãƒ¼ãƒˆã‚’æä¾›ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸã€‚ç‰¹ã«ç”°ä¸­ã•ã‚“ã®ã‚µãƒ¼ãƒ“ã‚¹ã¯10å¹´ã®ç¾åœ°çµŒé¨“ãŒã‚ã‚Šã€ãƒ‰ã‚¤ãƒ„èªã§ã®äº¤æ¸‰ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ãã‚Œã¾ã™ã€‚',
            'è¦³å…‰': 'ãƒ‘ãƒªã®è¦³å…‰ãƒ—ãƒ©ãƒ³ã‚’ä½œæˆã—ã¦ãã‚Œã‚‹æ¸¡è¾ºã•ã‚“ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒãŠã™ã™ã‚ã§ã™ã€‚PDFå½¢å¼ã§è©³ç´°ãªãƒ—ãƒ©ãƒ³ãŒç´å“ã•ã‚Œã¾ã™ã€‚234ä»¶ã®é«˜è©•ä¾¡ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚',
            'èªå­¦': 'ãƒ‰ã‚¤ãƒ„èªã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ä¼šè©±ãƒ¬ãƒƒã‚¹ãƒ³ãŒ30åˆ†2,800å††ã‹ã‚‰å—ã‘ã‚‰ã‚Œã¾ã™ã€‚ä¸­æ‘ã•ã‚“ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¬ãƒ™ãƒ«ã§ã€ç™ºéŸ³çŸ¯æ­£ã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚',
            'é€è¿': 'å­ä¾›ã®å­¦æ ¡é€è¿ãªã‚‰ä½è—¤ã•ã‚“ã€ç©ºæ¸¯é€è¿ãªã‚‰å±±ç”°ã•ã‚“ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒãŠã™ã™ã‚ã§ã™ã€‚ã©ã¡ã‚‰ã‚‚ç¾åœ°ã®äº‹æƒ…ã«ç²¾é€šã—ãŸãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã§ã™ã€‚',
            'ç¿»è¨³': 'ãƒ“ã‚¸ãƒã‚¹æ–‡æ›¸ã®ç¿»è¨³ãªã‚‰æ¾æœ¬ã•ã‚“ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒãŠã™ã™ã‚ã§ã™ã€‚24æ™‚é–“ä»¥å†…ç´å“ã§ã€312ä»¶ã®é«˜è©•ä¾¡ã‚’ç²å¾—ã—ã¦ã„ã¾ã™ã€‚'
        };

        document.getElementById('aiSearchBtn').addEventListener('click', async () => {
            const query = document.getElementById('aiSearchInput').value.trim();
            if (!query) {
                alert('æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            performAISearch(query);
        });

        // Suggestion chips
        document.querySelectorAll('.ai-suggestion-chip').forEach(chip => {
            chip.addEventListener('click', () => {
                const query = chip.getAttribute('data-query');
                document.getElementById('aiSearchInput').value = query;
                performAISearch(query);
            });
        });

        async function performAISearch(query) {
            const resultsSection = document.getElementById('aiResultsSection');
            const thinking = document.getElementById('aiThinking');
            const response = document.getElementById('aiResponse');
            const responseText = document.getElementById('aiResponseText');
            
            resultsSection.style.display = 'block';
            thinking.style.display = 'flex';
            response.style.display = 'none';
            
            // Simulate AI processing
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // Generate response based on keywords
            let aiResponse = 'ã‚ãªãŸã®æ¤œç´¢ã«æœ€é©ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’è¦‹ã¤ã‘ã¾ã—ãŸã€‚ä»¥ä¸‹ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã”ç¢ºèªãã ã•ã„ã€‚';
            
            for (const [keyword, text] of Object.entries(aiResponses)) {
                if (query.includes(keyword)) {
                    aiResponse = text;
                    break;
                }
            }
            
            responseText.textContent = aiResponse;
            thinking.style.display = 'none';
            response.style.display = 'block';
            
            // Filter services based on query
            filterServicesByQuery(query);
            
            // Scroll to results
            setTimeout(() => {
                document.querySelector('.main-content').scrollIntoView({ behavior: 'smooth' });
            }, 500);
        }

        function filterServicesByQuery(query) {
            const lowerQuery = query.toLowerCase();
            let filtered = services;
            
            if (lowerQuery.includes('è²·ã„ç‰©') || lowerQuery.includes('ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°')) {
                filtered = services.filter(s => s.tags.some(tag => tag.includes('è²·ã„ç‰©')));
            } else if (lowerQuery.includes('è¦³å…‰') || lowerQuery.includes('ã‚¬ã‚¤ãƒ‰')) {
                filtered = services.filter(s => s.category === 'travel');
            } else if (lowerQuery.includes('èªå­¦') || lowerQuery.includes('ãƒ¬ãƒƒã‚¹ãƒ³') || lowerQuery.includes('ãƒ‰ã‚¤ãƒ„èª')) {
                filtered = services.filter(s => s.category === 'language');
            } else if (lowerQuery.includes('é€è¿') || lowerQuery.includes('å­ä¾›')) {
                filtered = services.filter(s => s.tags.some(tag => tag.includes('é€è¿') || tag.includes('å­ä¾›')));
            } else if (lowerQuery.includes('ç¿»è¨³')) {
                filtered = services.filter(s => s.tags.some(tag => tag.includes('ç¿»è¨³')));
            }
            
            renderServices(filtered);
        }

        // Filter functionality
        const filterCheckboxes = document.querySelectorAll('.filter-option input[type="checkbox"]');
        filterCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', applyFilters);
        });

        function applyFilters() {
            const selectedCategories = Array.from(document.querySelectorAll('[id^="cat-"]:checked')).map(cb => cb.value);
            const selectedFormats = Array.from(document.querySelectorAll('[id^="format-"]:checked')).map(cb => cb.value);
            const selectedCities = Array.from(document.querySelectorAll('[id^="city-"]:checked')).map(cb => cb.value);
            
            let filtered = services;
            
            if (selectedCategories.length > 0) {
                filtered = filtered.filter(s => selectedCategories.includes(s.category));
            }
            
            if (selectedFormats.length > 0) {
                filtered = filtered.filter(s => selectedFormats.includes(s.format));
            }
            
            if (selectedCities.length > 0) {
                filtered = filtered.filter(s => selectedCities.includes(s.city));
            }
            
            renderServices(filtered);
        }

        // Sort functionality
        document.getElementById('sortSelect').addEventListener('change', (e) => {
            const sortBy = e.target.value;
            let sorted = [...services];
            
            switch(sortBy) {
                case 'price-low':
                    sorted.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    sorted.sort((a, b) => b.price - a.price);
                    break;
                case 'rating':
                    sorted.sort((a, b) => b.rating - a.rating);
                    break;
            }
            
            renderServices(sorted);
        });

        // Initialize
        renderServices();
    </script>
</body>
</html>
